{"ast":null,"code":"var _jsxFileName = \"/Users/obanw/Public/auth0-app-frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { Auth0Lock } from 'auth0-lock';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super(); // Instantiate the Auth0Lock library\n\n    this.state = {\n      accessToken: null,\n      profile: null\n    };\n\n    this.onAuthentication = authResult => {\n      // If we've authenticated, we'll have an access token.\n      // Use that access token to make an api call to Auth0 and retreive the user's profile information\n      this.lock.getUserInfo(authResult.accessToken, (error, profile) => {\n        if (error) {\n          console.error(error);\n          return;\n        }\n\n        console.log(profile);\n        localStorage.setItem('accessToken', authResult.accessToken);\n        localStorage.setItem('profile', JSON.stringify(profile));\n        this.forceUpdate(); // }\n      });\n    };\n\n    this.showLogin = () => {\n      this.lock.show();\n    };\n\n    this.logout = () => {\n      // Clear the localStorage\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('profile'); // Clean the state\n\n      this.setState({\n        accessToken: null,\n        profile: null\n      }); // Clear the Auth0 session then redirect back to the homepage\n\n      this.lock.logout();\n    };\n\n    const lock = new Auth0Lock('lFtVP1NcySVcPICGMlXaf3166lKFCgPS', 'dev-zwn5zbui.auth0.com');\n    this.lock = lock;\n    this.lock.on('authenticated', this.onAuthentication); // Listen for the authenticated event on the Auth0 lock library and call the \n    // onAuthenticated method\n  }\n\n  componentWillMount() {\n    // Check the local storage for the accessToken and profile information\n    const accessToken = localStorage.getItem('accessToken');\n    const profile = localStorage.getItem('profile');\n\n    if (accessToken && profile) {// If they exist, load them into state\n      //  this.setState({\n      //    accessToken: accessToken,\n      //    profile: JSON.parse(profile)\n      //  });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, this.state.profile, this.state.accessToken ?\n    /*#__PURE__*/\n    // We're logged in\n    // Load the user's name and a logout button\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }, this.state.profile.name, \" is logged in\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"Logout\")) :\n    /*#__PURE__*/\n    // We're not logged in yet\n    // Display the login button\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, \"User is not logged in\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, \"Login\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/obanw/Public/auth0-app-frontend/src/App.js"],"names":["React","Component","Auth0Lock","App","constructor","state","accessToken","profile","onAuthentication","authResult","lock","getUserInfo","error","console","log","localStorage","setItem","JSON","stringify","forceUpdate","showLogin","show","logout","removeItem","setState","on","componentWillMount","getItem","render","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Auth0Lock } from 'auth0-lock';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    accessToken: null,\n    profile: null\n  }\n  \n  constructor() {\n    super();\n  \n  \n    // Instantiate the Auth0Lock library\n    const lock = new Auth0Lock(\n      'lFtVP1NcySVcPICGMlXaf3166lKFCgPS',\n      'dev-zwn5zbui.auth0.com'\n    );\n    this.lock = lock;\n    this.lock.on('authenticated', this.onAuthentication)\n    // Listen for the authenticated event on the Auth0 lock library and call the \n    // onAuthenticated method\n    \n  }\n\n  componentWillMount() {\n     // Check the local storage for the accessToken and profile information\n     const accessToken = localStorage.getItem('accessToken');\n     const profile = localStorage.getItem('profile');\n \n     if (accessToken && profile) {\n \n       // If they exist, load them into state\n      //  this.setState({\n      //    accessToken: accessToken,\n      //    profile: JSON.parse(profile)\n      //  });\n \n     }\n  }\n\n  onAuthentication = (authResult) => {\n\n    // If we've authenticated, we'll have an access token.\n    // Use that access token to make an api call to Auth0 and retreive the user's profile information\n    this.lock.getUserInfo(authResult.accessToken, (error, profile) => {\n\n      if (error) {\n        console.error(error);\n        return;\n      }\n\n      console.log(profile)\n\n      localStorage.setItem('accessToken', authResult.accessToken);\n      localStorage.setItem('profile', JSON.stringify(profile));\n\n\n        this.forceUpdate() \n    // }\n    });\n\n  }\n\n  showLogin = () => {\n    this.lock.show();\n\n  }\n\n  logout = () => {\n\n    // Clear the localStorage\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('profile');\n\n    // Clean the state\n    this.setState({ accessToken: null, profile: null });\n\n    // Clear the Auth0 session then redirect back to the homepage\n    this.lock.logout();\n\n  }\n\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n        {this.state.profile}\n          {\n            this.state.accessToken ?\n              (\n                // We're logged in\n                // Load the user's name and a logout button\n                <div>\n                  <p>\n                    {this.state.profile.name} is logged in\n                  </p>\n                  <button onClick={this.logout}>Logout</button>\n                </div>\n              )\n              :\n              (\n                // We're not logged in yet\n                // Display the login button\n                <div>\n                  <p>\n                    User is not logged in\n                  </p>\n                  <button onClick={this.showLogin}>Login</button>\n                </div>\n              )\n          }\n        </header>\n      </div >\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}