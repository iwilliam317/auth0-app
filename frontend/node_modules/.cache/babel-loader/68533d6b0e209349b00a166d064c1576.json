{"ast":null,"code":"var _jsxFileName = \"/Users/obanw/Public/auth0-app/frontend/src/App.jsx\";\nimport React, { Component } from 'react';\nimport { Auth0Lock } from 'auth0-lock';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.onAuthentication = authResult => {\n      this.lock.getUserInfo(authResult.accessToken, (error, profile) => {\n        if (error) {\n          console.error(error);\n          return;\n        }\n\n        localStorage.setItem('accessToken', authResult.accessToken);\n        localStorage.setItem('profile', JSON.stringify(profile));\n        this.setState({\n          accessToken: authResult.accessToken,\n          profile: profile\n        });\n      });\n    };\n\n    this.showLogin = () => {\n      this.lock.show();\n    };\n\n    this.logout = () => {\n      // Clear the localStorage\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('profile'); // Clean the state\n\n      this.setState({\n        accessToken: null,\n        profile: null\n      }); // Clear the Auth0 session then redirect back to the homepage\n\n      this.lock.logout();\n    };\n\n    const lock = new Auth0Lock('lFtVP1NcySVcPICGMlXaf3166lKFCgPS', 'dev-zwn5zbui.auth0.com');\n    this.state = {\n      accessToken: null,\n      profile: null\n    };\n    this.lock = lock;\n    this.lock.on('authenticated', this.onAuthentication);\n  }\n\n  componentWillMount() {\n    const accessToken = localStorage.getItem('accessToken');\n    const profile = localStorage.getItem('profile');\n\n    if (accessToken && profile) {\n      this.setState({\n        accessToken: accessToken,\n        profile: JSON.parse(profile)\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, this.state.accessToken ?\n    /*#__PURE__*/\n    // We're logged in\n    // Load the user's name and a logout button\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, this.state.profile.name, \" is logged in\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    }, \"Logout\")) :\n    /*#__PURE__*/\n    // We're not logged in yet\n    // Display the login button\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, \"User is not logged in\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, \"Login\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/obanw/Public/auth0-app/frontend/src/App.jsx"],"names":["React","Component","Auth0Lock","App","constructor","onAuthentication","authResult","lock","getUserInfo","accessToken","error","profile","console","localStorage","setItem","JSON","stringify","setState","showLogin","show","logout","removeItem","state","on","componentWillMount","getItem","parse","render","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Auth0Lock } from 'auth0-lock';\nimport './App.css';\n\nclass App extends Component {\n\n\n\n    constructor() {\n        super();\n\n        const lock = new Auth0Lock(\n            'lFtVP1NcySVcPICGMlXaf3166lKFCgPS',\n            'dev-zwn5zbui.auth0.com'\n        );\n\n        this.state = {\n            accessToken: null,\n            profile: null\n        }\n        this.lock = lock;\n        this.lock.on('authenticated', this.onAuthentication)\n    }\n\n    componentWillMount() {\n\n\n        const accessToken = localStorage.getItem('accessToken');\n        const profile = localStorage.getItem('profile');\n\n        if (accessToken && profile) {\n\n            this.setState({\n                accessToken: accessToken,\n                profile: JSON.parse(profile)\n            });\n\n        }\n\n    }\n\n    onAuthentication = (authResult) => {\n\n        this.lock.getUserInfo(authResult.accessToken, (error, profile) => {\n\n            if (error) {\n                console.error(error);\n                return;\n            }\n\n\n            localStorage.setItem('accessToken', authResult.accessToken);\n            localStorage.setItem('profile', JSON.stringify(profile));\n\n\n            this.setState({\n                accessToken: authResult.accessToken,\n                profile: profile\n            });\n        });\n\n    }\n\n    showLogin = () => {\n\n        this.lock.show();\n\n    }\n\n    logout = () => {\n\n        // Clear the localStorage\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('profile');\n\n        // Clean the state\n        this.setState({ accessToken: null, profile: null });\n\n        // Clear the Auth0 session then redirect back to the homepage\n        this.lock.logout();\n\n    }\n    render() {\n        return (\n            <div className=\"App\">\n                <header className=\"App-header\">\n\n                    {\n                        this.state.accessToken ?\n                            (\n                                // We're logged in\n                                // Load the user's name and a logout button\n                                <div>\n                                    <p>\n                                        {this.state.profile.name} is logged in\n                  </p>\n                                    <button onClick={this.logout}>Logout</button>\n                                </div>\n                            )\n                            :\n                            (\n                                // We're not logged in yet\n                                // Display the login button\n                                <div>\n                                    <p>\n                                        User is not logged in\n                  </p>\n                                    <button onClick={this.showLogin}>Login</button>\n                                </div>\n                            )\n                    }\n                </header>\n            </div >\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}